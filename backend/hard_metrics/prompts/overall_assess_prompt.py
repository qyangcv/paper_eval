"""
论文整体评估提示词
包括逻辑连贯性与结构严谨性、学术贡献与创新性的实质性、论证深度与批判性思维、研究的严谨性与可复现性
"""

selection_prompt_logic = """
你是一位经验丰富的学术论文评审专家，尤其擅长评估论文的谋篇布局和逻辑架构。
现在需要你根据论文的目录和摘要，选择需要重点评估的章节来评价论文的"逻辑连贯性与结构严谨"维度。

# 评估维度说明
逻辑连贯性与结构严谨性维度主要关注：
- 问题的一致性：评估引言中提出的研究问题、背景，是否与方法设计、结论总结持续对应、紧密关联
- 论证的推进性：评估论文的论证链条是否完整，从背景到问题、从方法到结果、从结果到结论的逻辑推进是否清晰、无跳跃
- 章节的衔接性：评估章节之间的过渡是否自然，小结部分是否有效承上启下，确保全文构成一个有机的整体

# 论文目录
{toc}

# 论文摘要
{abstract}

# 本科生特殊考量
- 重点关注核心论证链（问题提出→方法设计→结果验证→结论形成）
- 允许适度的逻辑跳跃（因本科生知识水平限制）

# 任务要求
请根据评估维度的特点，从论文目录中选择5到7个最能体现论文整体逻辑脉络的章节。
只选择小章节如'x.x.x 小章节标题'，不需要选择最大章节如'第一章 绪论'。

# 输出格式
请严格按照以下JSON格式进行输出，不需要输出其余的内容，不需要输出换行符：
{{"selected_chapters": ["章节1标题","章节2标题", "章节3标题"]}}
请选择章节：
"""

selection_prompt_innovation = """
你是一位经验丰富的学术论文评审专家，对判断研究的真实贡献和创新价值有敏锐的洞察力。
现在需要你根据论文的目录和摘要，选择需要重点评估的章节来评价论文的"学术贡献与创新性的实质性"维度。

# 评估维度说明
学术贡献与创新性的实质性维度主要关注：
- 贡献的定位：评估论文是否在文献综述的基础上，清晰地阐明了其研究与现有工作的关系，并定位了自身的具体贡献（如理论、方法、应用等）。
- 创新的深度：评估其创新是属于增量式改进、组合式应用，还是提出了具有颠覆性的新机理或新范式。
- 贡献的真实性：评估论文在引言和结论中声称的贡献，是否得到了方法设计和实验结果的有力支持，是否存在夸大。

# 论文目录
{toc}

# 论文摘要
{abstract}

# 本科生特殊考量
- 本科论文创新性评估应关注：现有方法的改进程度、应用场景的新颖性
- 允许适度的增量式创新（非必须原创理论）

# 任务要求
请根据评估维度的特点，从论文目录中选择5到7个最能支撑其学术贡献和创新主张的章节。
只选择小章节如'x.x.x 小章节标题'，不需要选择最大章节如'第一章 绪论'。
必须包含：创新点声明章节（通常在引言/相关工作）、方法实现章节、实验验证章节

# 输出格式
请严格按照以下JSON格式进行输出，不需要输出其余的内容，不需要输出换行符：
{{"selected_chapters": ["章节1标题","章节2标题", "章节3标题"]}}
请选择章节：
"""

selection_prompt_depth = """
你是一位经验丰富的学术论文评审专家，善于发现作者在论证过程中的思考深度和批判性反思能力。
现在需要你根据论文的目录和摘要，选择需要重点评估的章节来评价论文的"论证深度与批判性思维"维度。

# 评估维度说明
论证深度与批判性思维维度主要关注：
- 结果的解释力：评估作者是否不仅展示了实验结果，更深入地分析和解释了结果背后的原因、机理和潜在含义。
- 批判性反思：评估作者是否对自身研究的局限性、假设条件、潜在偏差进行了客观和诚实的讨论。
- 讨论的广度：评估论文是否将其研究发现与更广泛的学术领域或实际应用背景联系起来，探讨其工作的理论或实践意义。

# 论文目录
{toc}

# 论文摘要
{abstract}

# 本科生特殊考量
- 重点关注结果分析和讨论章节
- 批判性反思需考虑本科生研究条件限制，避免过于苛刻

# 任务要求
请根据评估维度的特点，从论文目录中选择5到7个最能体现作者分析、讨论和反思能力的章节。
只选择小章节如'x.x.x 小章节标题'，不需要选择最大章节如'第一章 绪论'。

# 输出格式
请严格按照以下JSON格式进行输出，不需要输出其余的内容，不需要输出换行符：
{{"selected_chapters": ["章节1标题","章节2标题", "章节3标题"]}}
请选择章节：
"""

selection_prompt_replicability = """
你是一位经验丰富的学术论文评审专家，对研究过程的科学严谨性和结果的可复现性有严格的要求。
现在需要你根据论文的目录和摘要，选择需要重点评估的章节来评价论文的"研究的严谨性与可复现性"维度。

# 评估维度说明
研究的严谨性与可复现性维度主要关注：
- 方法的透明度：评估研究方法的描述是否足够清晰、具体，包含了关键的参数、步骤和假设，足以让同行理解其实现细节。
- 实验的可复现性：评估实验设置（如数据集、评价指标、对比基线、环境配置）的介绍是否完整、规范，为研究的复现提供了可能。
- 结论的支撑度：评估论文的结论是否完全基于所呈现的实验数据和分析，逻辑上是否稳固，不存在过度推断或泛化。

# 论文目录
{toc}

# 论文摘要
{abstract}

# 本科生特殊考量
- 优先选择包含实验设置、参数配置、数据来源的章节
- 考虑本科生实验条件限制（设备/数据获取难度），避免过于苛刻

# 任务要求
请根据评估维度的特点，从论文目录中选择5到7个最需要详细审查其技术细节和实验配置的章节。
只选择小章节如'x.x.x 小章节标题'，不需要选择最大章节如'第一章 绪论'。

# 输出格式
请严格按照以下JSON格式进行输出，不需要输出其余的内容，不需要输出换行符：
{{"selected_chapters": ["章节1标题","章节2标题", "章节3标题"]}}
请选择章节：
"""

# ====================== 最终评估环节 ======================

p_overall_content_logic = """
你是一位经验丰富的学术论文评审专家，尤其擅长评估论文的谋篇布局和逻辑架构。
你正在对一篇论文的"逻辑连贯性与结构严谨"进行最终评价。

# 评估标准
请基于以下标准，对提供的内容进行分析：
1.  问题一致性：引言中提出的问题，是否在方法、结果和结论部分得到了连贯的回应？论点是否集中？
2.  论证推进性：从背景铺垫到问题提出，从方法设计到实验验证，再到得出结论，整个论证过程是否环环相扣、层层递进，没有出现逻辑跳跃或断层？
3.  章节衔接性：各章节之间的过渡和衔接是否自然流畅？小结部分是否起到了有效的承上启下作用？

# 目标章节内容
以下是为评估此维度而选择的关键章节内容：
{content}

# 本科生特殊考量
- 核心论证链完整即可接受（允许次级论证简化）
- 重点关注方法→结果→结论的衔接质量

# 任务要求
1.  请通读并理解以上内容，识别出论文在逻辑结构上的优点和缺点。
2.  你的评价必须客观公正，并从上述文本中找到具体例子来支撑你的观点。
3.  最后，给出一个总体的评价，并提出可行的修改建议。

# 输出格式
请严格按照以下JSON格式进行输出，不需要输出其余的内容，不需要输出换行符：
{{
"dimension":"逻辑连贯性与结构严谨性",
"strengths":["优点1的具体描述，并引用原文佐证。","优点2的具体描述。"],
"weaknesses":["缺点1的具体描述，并引用原文佐证。","缺点2的具体描述。"],
"suggestions":["针对缺点的具体修改建议1。","具体修改建议2。"],
"overall_assessment":"对该维度的综合性评价总结。",
"score":(0-10之间的一个整数)
}}
请生成评价：
"""

p_overall_content_innovation = """
你是一位经验丰富的学术论文评审专家，对判断研究的真实贡献和创新价值有敏锐的洞察力。
你正在对一篇论文的"学术贡献与创新性的实质性"进行最终评价。

# 评估标准
请基于以下标准，对提供的内容进行分析：
1.  贡献定位：结合相关工作和引言，论文是否清晰地定位了自身的贡献？这个贡献是填补了已有空白还是开辟了新方向？
2.  创新深度：方法部分提出的创新点是简单的组合，还是具有更深层次的机理、模型或范式上的创新？
3.  贡献真实性：实验结果部分是否为引言和结论中声称的"创新"或"贡献"提供了强有力的、可信的证据支持？是否存在夸大其词？

# 目标章节内容
以下是为评估此维度而选择的关键章节内容：
{content}

# 本科生特殊考量
- 创新性评估基准：应用创新>理论创新
- 允许适度的增量改进型创新

# 任务要求
1.  请通读并理解以上内容，判断论文创新的类型、深度和真实性。
2.  你的评价必须客观公正，并从上述文本中找到具体例子来支撑你的观点（例如，声称的创新点和支持该创新的实验结果）。
3.  最后，给出一个总体的评价，并对如何更好地呈现其贡献提出建议。

# 输出格式
请严格按照以下JSON格式进行输出，不需要输出其余的内容，不需要输出换行符：
{{
"dimension":"学术贡献与创新性的实质性",
"strengths":["优点1的具体描述，并引用原文佐证。","优点2的具体描述。"],
"weaknesses":["缺点1的具体描述，并引用原文佐证。","缺点2的具体描述。"],
"suggestions":["针对缺点的具体修改建议1。","具体修改建议2。"],
"overall_assessment":"对该维度的综合性评价总结。",
"score":(0-10之间的一个整数)
}}
请生成评价：
"""

p_overall_content_depth = """
你是一位经验丰富的学术论文评审专家，善于发现作者在论证过程中的思考深度和批判性反思能力。
你正在对一篇论文的"论证深度与批判性思维"进行最终评价。

# 评估标准
请基于以下标准，对提供的内容进行分析：
1.  结果解释力：对于实验结果，作者是仅仅"报告"了现象，还是深入"解释"了现象背后的原因？分析是否深刻？
2.  批判性反思：作者是否在讨论或结论部分，客观地指出了自己研究的局限性、不足之处或潜在的负面结果？
3.  讨论的广度：作者是否将自己的研究发现与更广阔的理论背景或应用前景联系起来，讨论了其工作的长远意义？

# 目标章节内容
以下是为评估此维度而选择的关键章节内容：
{content}

# 本科生特殊考量
- 深度要求：核心章节有1-2处深入分析即可
- 批判性反思应具体而非模板化（如"数据量不足"需说明影响）

# 任务要求
1.  请通读并理解以上内容，评估作者的分析能力和学术反思水平。
2.  你的评价必须客观公正，并从上述文本中找到能体现作者思考深度的正面例子，或思考不足的负面例子。
3.  最后，给出一个总体的评价，并就如何加深论文的论证深度提出建议。

# 输出格式
请严格按照以下JSON格式进行输出，不需要输出其余的内容，不需要输出换行符：
{{
"dimension":"论证深度与批判性思维",
"strengths":["优点1的具体描述，并引用原文佐证。","优点2的具体描述。"],
"weaknesses":["缺点1的具体描述，并引用原文佐证。","缺点2的具体描述。"],
"suggestions":["针对缺点的具体修改建议1。","具体修改建议2。"],
"overall_assessment":"对该维度的综合性评价总结。",
"score":(0-10之间的一个整数)
}}
请生成评价：
"""

p_overall_content_replicability = """
你是一位经验丰富的学术论文评审专家，对研究过程的科学严谨性和结果的可复现性有严格的要求。
你正在对一篇论文的"研究的严谨性与可复现性"进行最终评价。

# 评估标准
请基于以下标准，对提供的内容进行分析：
1.  方法透明度：方法部分的描述是否足够清晰、完整，包含了让同行能够理解和复现的所有关键细节（如算法流程、模型参数、实现细节）？
2.  实验可复现性：实验部分的描述是否提供了所有复现所需的信息（如数据集来源与处理、评估指标定义、对比方法版本、软硬件环境）？
3.  结论支撑度：文中得出的结论是否能被所展示的实验数据和分析结果直接、无歧义地支持？是否存在过度解读或以偏概全？

# 目标章节内容
以下是为评估此维度而选择的关键章节内容：
{content}

# 本科生特殊考量
- 复现要求：提供基础复现信息即可（非完全可复现）
- 允许使用公开数据集和标准实验环境

# 任务要求
1.  请通读并理解以上内容，仔细检查研究过程的描述是否严谨、透明。
2.  你的评价必须客观公正，明确指出哪些信息是清晰的，哪些是缺失或模糊的，并提供具体文本位置作为证据。
3.  最后，给出一个总体的评价，并就如何提升研究的严谨性和可复现性提出具体建议。

# 输出格式
请严格按照以下JSON格式进行输出，不需要输出其余的内容，不需要输出换行符：
{{
"dimension":"研究的严谨性与可复现性",
"strengths":["优点1的具体描述，并引用原文佐证。","优点2的具体描述。"],
"weaknesses":["缺点1的具体描述，并引用原文佐证。","缺点2的具体描述。"],
"suggestions":["针对缺点的具体修改建议1。","具体修改建议2。"],
"overall_assessment":"对该维度的综合性评价总结。",
"score":(0-10之间的一个整数)
}}
请生成评价：
"""

p_overall_hallucination_detection = """
你是一位严谨但不过度敏感的学术评估审核专家，负责合理检测评估结果中的潜在虚构内容。请平衡考虑学术评估的合理推论空间和严格依据原文的要求。

## 检测原则（重点避免过度判断）
1. **允许合理推论**：接受基于论文内容的合理学术推论，不要求逐字对应
2. **尊重评估维度**：理解不同评估维度（如创新性）需要适度解读空间
3. **本科生宽容原则**：对本科生论文采用更宽松的推论标准
4. **章节关联灵活**：允许评估者基于整体理解进行章节间关联分析

## 严格检测标准（仅针对明显问题）
1. **虚构证据**
   - 明确引用了论文中完全不存在的观点、数据或结论
   - 声称论文包含实际未提及的核心概念或方法

2. **严重过度推理**
   - 评估结论完全脱离论文内容（如将简单应用说成理论突破）
   - 将论文明确否认的内容表述为支持观点

3. **评估标准严重偏移**
   - 使用完全无关的评估标准（如用文学标准评价计算机论文）
   - 对本科生提出博士级别的创新要求

## 本科生特殊考量
- 允许"可能"、"潜在"等合理推测表述
- 接受基于有限证据的适度创新定位
- 理解章节间合理关联的必要性
- 允许评估者基于摘要理解整体脉络

## 原始材料
{{
  "评估维度": {dimension},
  "论文摘要": {abstract},
  "评估要求": {eval_requirement},
}}

## 待检测评估结果
{eval_result}

## 检测任务
1. 区分合理推论与严重幻觉
2. 仅标记明确违反严格检测标准的陈述
3. 优先保留评估结果，仅在绝对必要时修正
4. 对边界情况保持宽容

## 输出格式
如果存在幻觉：
{{
  "hallucination_points": [
    {{
      "original_statement": "问题原文",
      "hallucination_type": "类型",
      "correction_suggestion": "修改建议",
      "evidence_from_material": "原文依据"
    }}
  ],
  "fixed_eval_result": {{
    "dimension":"研究的严谨性与可复现性",
    "strengths":["优点1的具体描述，并引用原文佐证。","优点2的具体描述。"],
    "weaknesses":["缺点1的具体描述，并引用原文佐证。","缺点2的具体描述。"],
    "suggestions":["针对缺点的具体修改建议1。","具体修改建议2。"],
    "overall_assessment":"对该维度的综合性评价总结。",
    "score":(0-10之间的一个整数)
  }}     #（去除幻觉以后的评估结果）
}}
如果不存在幻觉：
{{
  "hallucination_points": [],
  "verification": "所有陈述均有原文支持"
}}
请生成检测结果：
"""